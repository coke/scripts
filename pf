#!/usr/bin/env raku

# prime factors

my $primes = (2..*).grep(*.is-prime);

my @digits = <ZERO ONE TWO THREE FOUR FIVE SIX SEVEN EIGHT NINE>;

my @exp-digits;

for @digits.kv -> $index, $name {
    @exp-digits[$index] = uniparse("SUPERSCRIPT $name");
}

sub exponent_print(Str() $exp) {
    return "" if $exp == 1;
    $exp.comb.map({@exp-digits[$_]}).join('');
}

sub MAIN(Int() $val is copy) {
    my @factors;
    for @$primes -> $factor {
        my $count = 0;
        while $val %% $factor {
            $count++;
            $val /= $factor;
        }
        if $count {
            @factors.push($factor ~ exponent_print($count));
        }
        last if $val == 1;
    }
    say @factors.join(' Ã— ');
}
